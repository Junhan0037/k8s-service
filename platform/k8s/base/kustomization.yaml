# base/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
# 공통 네임스페이스를 지정해 마이크로서비스와 인프라 리소스를 한곳에서 관리합니다.
namespace: research-ex
commonLabels:
  app.kubernetes.io/part-of: research-ex
# 리소스 정렬: 네임스페이스 -> 구성 -> 인프라 -> 게이트웨이 -> 서비스 -> 관측성
resources:
  - namespace.yaml
  - config/application-configmap.yaml
  - config/postgres-secret.yaml
  - infrastructure/postgres.yaml
  - infrastructure/redis.yaml
  - infrastructure/kafka.yaml
  - gateway/nginx-configmap.yaml
  - gateway/deployment.yaml
  - gateway/service.yaml
  - gateway/ingress.yaml
  - services/research-service.yaml
  - services/registry-service.yaml
  - services/mr-viewer-service.yaml
  - services/deid-service.yaml
  - services/user-portal.yaml
  - services/cdw-loader.yaml
  - observability/zipkin.yaml
  - observability/prometheus-operator-bundle.yaml
  - observability/prometheus.yaml
  - observability/grafana.yaml

spring:
  application:
    name: cdw-loader
  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    client-id: cdw-loader
    producer:
      compression-type: zstd
      linger-ms: 20
      retries: 5
      properties:
        enable.idempotence: true
        delivery.timeout.ms: 120000
        request.timeout.ms: 30000
    listener:
      concurrency: 1

server:
  port: 8106

service:
  description: "CDW Loader 서비스는 임상 데이터 웨어하우스로 적재를 담당하는 스켈레톤이다"

app:
  messaging:
    topics:
      cdw-load-events: cdw.load.events

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  metrics:
    tags:
      application: ${spring.application.name}
    distribution:
      percentiles-histogram:
        http.server.requests: true
  tracing:
    sampling:
      probability: 1.0
  zipkin:
    tracing:
      endpoint: ${ZIPKIN_ENDPOINT:http://zipkin:9411/api/v2/spans}
  observations:
    key-values:
      environment: ${RESEARCHEX_ENV:local}
